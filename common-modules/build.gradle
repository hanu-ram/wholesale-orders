plugins{
    id "java"
    id "io.freefair.lombok" version "6.2.0"
    id "java-library"
}
bootJar {
    enabled = false
}
jar {
    enabled = false
}
configurations {
    testOutput
}

task jarTest(type: Jar) {
    from sourceSets.test.output
    classifier = 'test'
}

artifacts {
    testOutput jarTest
}
ext {
    springfox_version = "3.0.0"
    mapstructVersion = "1.5.0.Beta1"
}
dependencies {
    api 'org.springframework.boot:spring-boot-starter-actuator:2.7.2'
    api 'org.springframework.boot:spring-boot-starter-web:2.7.2'
    api 'org.springframework.boot:spring-boot-starter-data-jpa:2.7.2'
    api 'org.springframework.boot:spring-boot-starter-validation:2.7.2'
    api 'org.springframework:spring-aspects:5.3.9'
    api 'org.springframework.retry:spring-retry:1.3.1'
    api 'javax.validation:validation-api:2.0.1.Final'
    api "io.springfox:springfox-oas:3.0.0"
    api group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.8'
    api 'com.github.joschi.jackson:jackson-datatype-threetenbp:2.12.5'
    api group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'
    api group: 'com.google.code.gson', name: 'gson', version: '2.8.8'
    api 'org.javatuples:javatuples:1.2'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.1'
    annotationProcessor "org.mapstruct:mapstruct-processor:${mapstructVersion}"
    api "org.mapstruct:mapstruct:${mapstructVersion}"

    testImplementation group: 'com.tngtech.archunit', name: 'archunit-junit5-api', version: '0.20.1'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
